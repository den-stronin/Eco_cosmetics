{"version":3,"sources":["scripts/validate.js"],"names":["form","document","querySelector","listLength","querySelectorAll","length","stopList","formCart","listLengthCart","removeData","typeForm","list","i","children","classList","remove","emailValid","str","result","match","telValid","errorMessage","inputName","arrElement","inputForm","listForm","arrayElement","elemName","name","elemValue","value","messageError","includes","push","position","active","message","domain","prot","window","location","protocol","hostName","host","patch","pathname","pageData","addEventListener","event","preventDefault","arrayActive","unActive","add","forEach","element","reset","replaceChildren","insertAdjacentHTML","href"],"mappings":"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","file":"validate.76f79f32.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst form = document.querySelector('.contact__form');\nconst listLength = form.querySelectorAll('.form__field').length;\nconst stopList = ['email', 'tel'];\n\nconst formCart = document.querySelector('.cart-content__form');\nconst listLengthCart = formCart.querySelectorAll('.form__field').length;\n\nconst removeData = (typeForm, list) => {\n  for (let i = 0; i < list; i++) {\n    typeForm.children[i].classList.remove('form__field--active');\n    typeForm.children[i].classList.remove('form__field--unactive');\n  };\n};\n\nconst emailValid = (str) => {\n  let result = false;\n\n  if (str.length > 0) {\n    const data = str.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/g);\n\n    data <= 0 ? result = false : result = true;\n  }\n\n  return result;\n};\n\nconst telValid = (str) => {\n  let result = false;\n\n  if (str.length > 0) {\n    const data = str.match(/^[+0-9]{5,14}$/g);\n\n    data <= 0 ? result = false : result = true;\n  }\n\n  return result;\n};\n\nconst errorMessage = (inputName) => {\n  if (inputName === 'name') {\n    return `<li>Your name</li>`;\n  }\n\n  if (inputName === 'email') {\n    return `<li>Email: <strong>example@domain.com</strong></li>`;\n  }\n\n  if (inputName === 'tel') {\n    return `<li>Phone: <strong>+1 2222 333 4444</strong></li>`;\n  }\n\n  if (inputName === 'message') {\n    return `<li>Message from 5 to 200 characters</li>`;\n  }\n\n  if (inputName === 'adress') {\n    return `<li>Enter the address for delivery</li>`;\n  }\n\n  return false;\n};\n\nconst arrElement = (inputForm, listForm) => {\n  const arrayElement = [];\n\n  for (let i = 0; i < listForm; i++) {\n    const elemName = inputForm.children[i].name;\n    const elemValue = inputForm.children[i].value;\n    const messageError = errorMessage(elemName);\n\n    if (!stopList.includes(elemName)) {\n      arrayElement.push({\n        position: i,\n        name: elemName,\n        active: elemValue.length > 2,\n        message: messageError,\n      });\n    }\n\n    if (elemName === 'email') {\n      arrayElement.push({\n        position: i,\n        name: elemName,\n        active: emailValid(elemValue),\n        message: messageError,\n      });\n    }\n\n    if (elemName === 'tel') {\n      arrayElement.push({\n        position: i,\n        name: elemName,\n        active: telValid(elemValue),\n        message: messageError,\n      });\n    }\n  };\n\n  return arrayElement;\n};\n\nconst domain = () => {\n  const prot = window.location.protocol;\n  const hostName = window.location.host;\n  const patch = window.location.pathname;\n  const pageData = `${prot}//${hostName}${patch}`;\n\n  return pageData;\n};\n\nform.addEventListener('submit', function(event) {\n  event.preventDefault();\n  removeData(form, listLength);\n\n  const arrayElement = arrElement(form, listLength);\n  const arrayActive = [];\n  let unActive = '';\n\n  for (let i = 0; i < arrayElement.length; i++) {\n    if (arrayElement[i].active) {\n      form.children[i].classList.add('form__field--active');\n      arrayActive.push(i);\n    } else {\n      form.children[i].classList.add('form__field--unactive');\n    }\n  }\n\n  arrayElement.forEach(element => {\n    if (element.active === false) {\n      unActive += element.message;\n    }\n  });\n\n  if (arrayActive.length === arrayElement.length) {\n    form.reset();\n    removeData(form, listLength);\n\n    document.querySelector(\n      '.error'\n    ).classList.remove(\n      'error--active'\n    );\n  } else {\n    document.querySelector('.error__list').replaceChildren();\n    document.querySelector('.error').classList.add('error--active');\n\n    document.querySelector('.error__list').insertAdjacentHTML(\n      'afterbegin', unActive);\n  }\n});\n\nformCart.addEventListener('submit', function(event) {\n  event.preventDefault();\n  removeData(formCart, listLengthCart);\n\n  const arrayElement = arrElement(formCart, listLengthCart);\n  const arrayActive = [];\n  let unActive = '';\n\n  for (let i = 0; i < arrayElement.length; i++) {\n    if (arrayElement[i].active) {\n      formCart.children[i].classList.add('form__field--active');\n      arrayActive.push(i);\n    } else {\n      formCart.children[i].classList.add('form__field--unactive');\n    }\n  }\n\n  arrayElement.forEach(element => {\n    if (element.active === false) {\n      unActive += element.message;\n    }\n  });\n\n  if (arrayActive.length === arrayElement.length) {\n    formCart.reset();\n\n    removeData(formCart, listLengthCart);\n\n    window.location.href = domain();\n\n    document.querySelector('.error').classList.remove(\n      'error--active'\n    );\n  } else {\n    document.querySelector('.error__list').replaceChildren();\n    document.querySelector('.error').classList.add('error--active');\n\n    document.querySelector('.error__list').insertAdjacentHTML(\n      'afterbegin', unActive\n    );\n  }\n});\n"]}